[gd_scene load_steps=13 format=3 uid="uid://ce4qbkdc06v4m"]

[ext_resource type="Script" uid="uid://bjlp03i14fefi" path="res://scripts/water.gd" id="1_k8rjq"]
[ext_resource type="Shader" uid="uid://7udu12min21b" path="res://shaders/water.gdshader" id="2_b51wu"]
[ext_resource type="Shader" uid="uid://cixfxhaksn3jw" path="res://shaders/caustics.gdshader" id="3_gs2nu"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vmxee"]
shader = ExtResource("3_gs2nu")
shader_parameter/iteration_times = 4
shader_parameter/speed = 0.5
shader_parameter/color = Color(0.16, 0.678, 1, 0)
shader_parameter/caustic_color = Color(1, 1, 1, 0.462745)
shader_parameter/intensity = 0.005

[sub_resource type="Gradient" id="Gradient_gs2nu"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_vmxee"]
gradient = SubResource("Gradient_gs2nu")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gs2nu"]
shader = ExtResource("3_gs2nu")
shader_parameter/iteration_times = 3
shader_parameter/speed = 0.5
shader_parameter/color = Color(1, 1, 1, 0)
shader_parameter/caustic_color = Color(1, 1, 1, 1)
shader_parameter/intensity = 0.005

[sub_resource type="Gradient" id="Gradient_vmxee"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_vqtib"]
gradient = SubResource("Gradient_vmxee")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_gs2nu"]
noise_type = 2
seed = 2063839650
frequency = 0.0297
cellular_return_type = 0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_gs2nu"]
generate_mipmaps = false
seamless = true
noise = SubResource("FastNoiseLite_gs2nu")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_b51wu"]
shader = ExtResource("2_b51wu")
shader_parameter/refraction_map = SubResource("NoiseTexture2D_gs2nu")
shader_parameter/refraction_stretch = Vector2(1, 1)
shader_parameter/refraction_strength = 0.09
shader_parameter/water_tint = Color(0.51, 0.9265, 1, 0.647059)
shader_parameter/speed = 0.041

[node name="water" type="Node2D" node_paths=PackedStringArray("water_polygon", "caustic_polygon")]
script = ExtResource("1_k8rjq")
spread = 0.00137
motion_sensitivity = 0.003
spring_number = 10
water_polygon = NodePath("water")
caustic_polygon = NodePath("caustics")

[node name="caustics" type="Polygon2D" parent="."]
material = SubResource("ShaderMaterial_vmxee")
texture = SubResource("GradientTexture2D_vmxee")
metadata/_edit_lock_ = true

[node name="foam" type="Polygon2D" parent="."]
material = SubResource("ShaderMaterial_gs2nu")
texture = SubResource("GradientTexture2D_vqtib")

[node name="water" type="Polygon2D" parent="."]
modulate = Color(1, 1, 1, 0.65098)
material = SubResource("ShaderMaterial_b51wu")
metadata/_edit_lock_ = true
